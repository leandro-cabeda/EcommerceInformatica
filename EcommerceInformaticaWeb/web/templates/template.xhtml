<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <!--<f:view encoding="ISO-8859-1" contentType="text/html" locale="#/{controleLocale.currentLocale}">  -->    
    
    <h:head>
        <title><ui:insert name="titulo">EcommerceInformatica</ui:insert></title>
    </h:head>
    <h:body>
        <b:container>
            <h:form id="formMenu">
                <b:navBar brand="EcommerceInformatica">
                    <b:navbarLinks>
                        <b:navLink value="Inicio" outcome="Inicio"/>
                        <b:dropMenu value="Privado" rendered="#{controleLogin.pessoaAutenticado!=null}
                                    #{p:ifGranted('ADMINISTRADOR','FUNCIONARIO','GERENTE')}">
                            <b:navCommandLink value="Pessoas" ajax="false" action="#{controlePessoa.listar()}"/>
                            <b:navCommandLink value="Produtos" ajax="false" action="#{controleProduto.listar()}"/>
                        </b:dropMenu>
                        <b:dropMenu value="Publico">
                            <b:navCommandLink value="Produtos" ajax="false" action="#{controleProduto.listar()}"/>              
                        </b:dropMenu>
                        
                        <b:dropMenu value="Pessoa: #{controleLogin.pessoaAutenticado!=null ? controleLogin.pessoaAutenticado.nome : 'Efetuar Login'}" >
                            
                            <b:navCommandLink value="Efetuar Login" action="#{controleLogin.irPaginaLogin()}"
                                              rendered="#{controleLogin.pessoaAutenticado == null}" ajax="false"/>
                            
                            <b:navCommandLink value="Efetuar Logout"
                                              action="#{controleLogin.efetuarLogout()}"
                                              ajax="false"
                                              rendered="#{controleLogin.pessoaAutenticado != null}" />
                        
                        </b:dropMenu>
                    </b:navbarLinks>
                </b:navBar>
            </h:form>
            
            <ui:insert name="conteudo">
               
            </ui:insert>
        </b:container>
        <div align="center" 
                     style="font-size: 20px; color: white; text-transform: uppercase;"> 
                    <ui:include src="ajaxstatus.xhtml"/>

                    Todos os Direitos Reservados
        </div>
    </h:body>
        
  <!--</f:view> -->
</html>

